# Docker

![도커구조](https://www.hanumoka.net/images/20181116-docker-docker-basic_1.png)

## 하이퍼바이저 이용방식(좌)
- 여러개의 운영체제를 하나의 호스트에서 생성해 사용
- 각 게스트 운영체제는 호스트로부터 완전히 독립된 공간과 시스템 자원을 할당
- 단점
     - 독립된 가상환경 생성작업이 반드시 하이퍼바이저를 거침 -> 손실발생
     - 운영체제 전부를 포함하기때문에 이미지 크기 큼

## 도커 컨테이너
- 리눅스 자체기능을 사용함으로써 프로세스 단위의 격리환경을 만들기 때문에 성능 손실이 거의 없음
- 커널은 호스트커널을 공유하고, 컨테이너에는 라이브러리와 실행파일만 존재하기때문에 이미지 크기 또한 작음

## 장점
- 호스트OS위에서 실행되는 격리된 공간
    - 컨테이너 내부에서 어떤일이 있던 호스트OS에는 영향을 끼치지 않음. 독립된 개발환경 보장
- 배포시, 해당 컨테이너를 도커이미지로 만들어 운영서버에 전달만 하면 됨
    - 운영서버에 새롭게 패키지 설치할 필요 없으며, 의존성 걱정도 없음
    - 개발/운영 환경의 통합
- 이미지 내용을 레이어단위로 구성하며, 중복되는 레이어 재사용이 가능해 애플리케이션 배포속도가 매우 빠름

## 모놀리스 vs MSA
![MSA](https://miro.medium.com/max/900/0*MPKQT3SjXBtlJDSL.png)

- 모놀리스(Monolith) : 소프트웨어의 여러 모듈이 상호 작용하는 로직을 하나의 프로그램 내에서 구동시키는 방식(Legacy)
    - 서비스 기능이 복잡해지고 거대해질수록 소프트웨어 확장성과 유연성 줄어듬
- 마이크로서비스(MSA) : 여러 모듈을 독립적으로 구성하기 때문에 변화에 빠르게 대응할 수 있으며 모듈 관리가 쉬움
    - 웹 서버 컨테이너/DB컨테이너로 분리시켜서 관리